// Database Seed Script
// Run with: bunx prisma db seed

import { PrismaClient } from '@prisma/client';
import { hashPassword } from '../lib/password.js';

const prisma = new PrismaClient();

async function main() {
  console.log('üå± Starting database seed...');

  // Create Admin User
  console.log('üìù Creating admin user...');
  const adminPassword = await hashPassword('admin123');
  const admin = await prisma.user.upsert({
    where: { email: 'admin@kuberjitemple.org' },
    update: {},
    create: {
      name: 'Temple Admin',
      email: 'admin@kuberjitemple.org',
      password: adminPassword,
      phone: '+919876543210',
      role: 'ADMIN',
      language: 'en',
      emailVerified: true,
    },
  });
  console.log('‚úÖ Admin user created:', admin.email);

  // Create Demo User
  console.log('üìù Creating demo user...');
  const userPassword = await hashPassword('demo123');
  const user = await prisma.user.upsert({
    where: { email: 'user@temple.com' },
    update: {},
    create: {
      name: 'Demo User',
      email: 'user@temple.com',
      password: userPassword,
      phone: '+919876543211',
      role: 'USER',
      language: 'en',
      emailVerified: true,
    },
  });
  console.log('‚úÖ Demo user created:', user.email);

  // Create Services
  console.log('üìù Creating services...');
  
  const services = [
    {
      nameEn: 'Morning Aarti',
      nameHi: '‡§™‡•ç‡§∞‡§æ‡§§‡§É ‡§Ü‡§∞‡§§‡•Ä',
      descriptionEn: 'Begin your day with divine blessings. Traditional morning prayers and rituals performed at sunrise.',
      descriptionHi: '‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§®‡•á ‡§¶‡§ø‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§∏‡•Ç‡§∞‡•ç‡§Ø‡•ã‡§¶‡§Ø ‡§™‡§∞ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§™‡§æ‡§∞‡§Ç‡§™‡§∞‡§ø‡§ï ‡§∏‡•Å‡§¨‡§π ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§∞‡•ç‡§•‡§®‡§æ ‡§î‡§∞ ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§®‡•§',
      price: 501,
      duration: 30,
      category: 'DAILY_AARTI',
      benefitsEn: [
        'Positive start to the day',
        'Mental peace and clarity',
        'Spiritual awakening',
        'Divine blessings for family'
      ],
      benefitsHi: [
        '‡§¶‡§ø‡§® ‡§ï‡•Ä ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§',
        '‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§î‡§∞ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡§§‡§æ',
        '‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§ú‡§æ‡§ó‡•É‡§§‡§ø',
        '‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶'
      ],
      availableSlots: ['06:00', '07:00', '08:00'],
      imageUrl: '/images/morning-aarti.jpg',
    },
    {
      nameEn: 'Evening Aarti',
      nameHi: '‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ ‡§Ü‡§∞‡§§‡•Ä',
      descriptionEn: 'Experience the divine atmosphere of evening prayers with sacred chants and lamp offerings.',
      descriptionHi: '‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§Æ‡§Ç‡§§‡•ç‡§∞‡•ã‡§Ç ‡§î‡§∞ ‡§¶‡•Ä‡§™ ‡§Ö‡§∞‡•ç‡§™‡§£ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∂‡§æ‡§Æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§∞‡•ç‡§•‡§®‡§æ ‡§ï‡•á ‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§µ‡§æ‡§§‡§æ‡§µ‡§∞‡§£ ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§ï‡§∞‡•á‡§Ç‡•§',
      price: 501,
      duration: 30,
      category: 'DAILY_AARTI',
      benefitsEn: [
        'Peace of mind after day',
        'Removal of obstacles',
        'Family harmony',
        'Prosperity blessings'
      ],
      benefitsHi: [
        '‡§¶‡§ø‡§® ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Æ‡§® ‡§ï‡•Ä ‡§∂‡§æ‡§Ç‡§§‡§ø',
        '‡§¨‡§æ‡§ß‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£',
        '‡§™‡§æ‡§∞‡§ø‡§µ‡§æ‡§∞‡§ø‡§ï ‡§∏‡•å‡§π‡§æ‡§∞‡•ç‡§¶',
        '‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡§æ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶'
      ],
      availableSlots: ['17:00', '18:00', '19:00'],
      imageUrl: '/images/evening-aarti.jpg',
    },
    {
      nameEn: 'Abhishekam Pooja',
      nameHi: '‡§Ö‡§≠‡§ø‡§∑‡•á‡§ï‡§Æ ‡§™‡•Ç‡§ú‡§æ',
      descriptionEn: 'Sacred ritual bath of the deity with milk, honey, and holy water for spiritual purification.',
      descriptionHi: '‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§∂‡•Å‡§¶‡•ç‡§ß‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•Ç‡§ß, ‡§∂‡§π‡§¶ ‡§î‡§∞ ‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§ú‡§≤ ‡§∏‡•á ‡§¶‡•á‡§µ‡§§‡§æ ‡§ï‡§æ ‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§∏‡•ç‡§®‡§æ‡§® ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§®‡•§',
      price: 1100,
      duration: 45,
      category: 'SPECIAL_POOJA',
      benefitsEn: [
        'Spiritual cleansing',
        'Removal of sins',
        'Health and wellness',
        'Divine grace'
      ],
      benefitsHi: [
        '‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§∂‡•Å‡§¶‡•ç‡§ß‡§ø',
        '‡§™‡§æ‡§™‡•ã‡§Ç ‡§ï‡§æ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£',
        '‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§î‡§∞ ‡§ï‡§≤‡•ç‡§Ø‡§æ‡§£',
        '‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§ï‡•É‡§™‡§æ'
      ],
      availableSlots: ['09:00', '10:00', '11:00'],
      imageUrl: '/images/abhishekam.jpg',
    },
    {
      nameEn: 'Kuber Yantra Pooja',
      nameHi: '‡§ï‡•Å‡§¨‡•á‡§∞ ‡§Ø‡§Ç‡§§‡•ç‡§∞ ‡§™‡•Ç‡§ú‡§æ',
      descriptionEn: 'Special worship of Lord Kuber with yantra installation for wealth and prosperity.',
      descriptionHi: '‡§ß‡§® ‡§î‡§∞ ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§Ç‡§§‡•ç‡§∞ ‡§∏‡•ç‡§•‡§æ‡§™‡§®‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§≠‡§ó‡§µ‡§æ‡§® ‡§ï‡•Å‡§¨‡•á‡§∞ ‡§ï‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•Ç‡§ú‡§æ‡•§',
      price: 2100,
      duration: 60,
      category: 'SPECIAL_POOJA',
      benefitsEn: [
        'Financial abundance',
        'Business success',
        'Debt removal',
        'Wealth multiplication'
      ],
      benefitsHi: [
        '‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§™‡•ç‡§∞‡§ö‡•Å‡§∞‡§§‡§æ',
        '‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§Æ‡•á‡§Ç ‡§∏‡§´‡§≤‡§§‡§æ',
        '‡§ã‡§£ ‡§Æ‡•Å‡§ï‡•ç‡§§‡§ø',
        '‡§ß‡§® ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø'
      ],
      availableSlots: ['09:00', '14:00'],
      imageUrl: '/images/kuber-yantra.jpg',
    },
    {
      nameEn: 'Rudrabhishek',
      nameHi: '‡§∞‡•Å‡§¶‡•ç‡§∞‡§æ‡§≠‡§ø‡§∑‡•á‡§ï',
      descriptionEn: 'Powerful vedic ritual dedicated to Lord Shiva for spiritual growth and obstacle removal.',
      descriptionHi: '‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§î‡§∞ ‡§¨‡§æ‡§ß‡§æ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≠‡§ó‡§µ‡§æ‡§® ‡§∂‡§ø‡§µ ‡§ï‡•ã ‡§∏‡§Æ‡§∞‡•ç‡§™‡§ø‡§§ ‡§∂‡§ï‡•ç‡§§‡§ø‡§∂‡§æ‡§≤‡•Ä ‡§µ‡•à‡§¶‡§ø‡§ï ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§®‡•§',
      price: 2500,
      duration: 90,
      category: 'SPECIAL_POOJA',
      benefitsEn: [
        'Obstacle removal',
        'Inner strength',
        'Spiritual elevation',
        'Protection from negativity'
      ],
      benefitsHi: [
        '‡§¨‡§æ‡§ß‡§æ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£',
        '‡§Ü‡§Ç‡§§‡§∞‡§ø‡§ï ‡§∂‡§ï‡•ç‡§§‡§ø',
        '‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§â‡§®‡•ç‡§®‡§§‡§ø',
        '‡§®‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï‡§§‡§æ ‡§∏‡•á ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ'
      ],
      availableSlots: ['05:00', '06:00'],
      imageUrl: '/images/rudrabhishek.jpg',
    },
    {
      nameEn: 'Maha Aarti',
      nameHi: '‡§Æ‡§π‡§æ ‡§Ü‡§∞‡§§‡•Ä',
      descriptionEn: 'Grand ceremonial aarti with full temple rituals, chanting, and offerings on special occasions.',
      descriptionHi: '‡§µ‡§ø‡§∂‡•á‡§∑ ‡§Ö‡§µ‡§∏‡§∞‡•ã‡§Ç ‡§™‡§∞ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Æ‡§Ç‡§¶‡§ø‡§∞ ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§®, ‡§Æ‡§Ç‡§§‡•ç‡§∞‡•ã‡§ö‡•ç‡§ö‡§æ‡§∞ ‡§î‡§∞ ‡§Ö‡§∞‡•ç‡§™‡§£ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§≠‡§µ‡•ç‡§Ø ‡§î‡§™‡§ö‡§æ‡§∞‡§ø‡§ï ‡§Ü‡§∞‡§§‡•Ä‡•§',
      price: 5100,
      duration: 120,
      category: 'GRAND_CEREMONY',
      benefitsEn: [
        'Supreme blessings',
        'Fulfillment of wishes',
        'Complete spiritual experience',
        'Divine intervention'
      ],
      benefitsHi: [
        '‡§∏‡§∞‡•ç‡§µ‡•ã‡§ö‡•ç‡§ö ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶',
        '‡§Æ‡§®‡•ã‡§ï‡§æ‡§Æ‡§®‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§™‡•Ç‡§∞‡•ç‡§§‡§ø',
        '‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§Ö‡§®‡•Å‡§≠‡§µ',
        '‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§π‡§∏‡•ç‡§§‡§ï‡•ç‡§∑‡•á‡§™'
      ],
      availableSlots: ['07:00', '19:00'],
      imageUrl: '/images/maha-aarti.jpg',
    },
    {
      nameEn: 'Lakshmi-Kuber Pooja',
      nameHi: '‡§≤‡§ï‡•ç‡§∑‡•ç‡§Æ‡•Ä-‡§ï‡•Å‡§¨‡•á‡§∞ ‡§™‡•Ç‡§ú‡§æ',
      descriptionEn: 'Combined worship of Goddess Lakshmi and Lord Kuber for wealth, prosperity, and abundance.',
      descriptionHi: '‡§ß‡§®, ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§î‡§∞ ‡§™‡•ç‡§∞‡§ö‡•Å‡§∞‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•á‡§µ‡•Ä ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Æ‡•Ä ‡§î‡§∞ ‡§≠‡§ó‡§µ‡§æ‡§® ‡§ï‡•Å‡§¨‡•á‡§∞ ‡§ï‡•Ä ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§™‡•Ç‡§ú‡§æ‡•§',
      price: 3100,
      duration: 90,
      category: 'SPECIAL_POOJA',
      benefitsEn: [
        'Double blessings',
        'Complete prosperity',
        'Financial stability',
        'Long-term wealth'
      ],
      benefitsHi: [
        '‡§¶‡•ã‡§π‡§∞‡§æ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶',
        '‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø',
        '‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∏‡•ç‡§•‡§ø‡§∞‡§§‡§æ',
        '‡§¶‡•Ä‡§∞‡•ç‡§ò‡§ï‡§æ‡§≤‡§ø‡§ï ‡§ß‡§®'
      ],
      availableSlots: ['10:00', '15:00'],
      imageUrl: '/images/lakshmi-kuber.jpg',
    },
    {
      nameEn: 'Special Prasad Seva',
      nameHi: '‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§∏‡§æ‡§¶ ‡§∏‡•á‡§µ‡§æ',
      descriptionEn: 'Offering of special prasad to the deity and distribution to devotees for divine blessings.',
      descriptionHi: '‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•á‡§µ‡§§‡§æ ‡§ï‡•ã ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§∏‡§æ‡§¶ ‡§Ö‡§∞‡•ç‡§™‡§ø‡§§ ‡§ï‡§∞‡§®‡§æ ‡§î‡§∞ ‡§≠‡§ï‡•ç‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§§‡§∞‡§£‡•§',
      price: 751,
      duration: 20,
      category: 'SEVA',
      benefitsEn: [
        'Divine blessings',
        'Health and happiness',
        'Purity of mind',
        'Spiritual nourishment'
      ],
      benefitsHi: [
        '‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶',
        '‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§î‡§∞ ‡§ñ‡•Å‡§∂‡•Ä',
        '‡§Æ‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§¶‡•ç‡§ß‡§§‡§æ',
        '‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§™‡•ã‡§∑‡§£'
      ],
      availableSlots: ['08:00', '12:00', '18:00'],
      imageUrl: '/images/prasad-seva.jpg',
    },
  ];

  for (const service of services) {
    const created = await prisma.service.upsert({
      where: { 
        nameEn_nameHi: {
          nameEn: service.nameEn,
          nameHi: service.nameHi
        }
      },
      update: {},
      create: service,
    });
    console.log(`‚úÖ Service created: ${created.nameEn}`);
  }

  // Create Sample Livestreams
  console.log('üìù Creating sample livestreams...');
  
  const now = new Date();
  const tomorrow = new Date(now);
  tomorrow.setDate(tomorrow.getDate() + 1);
  
  const livestreams = [
    {
      titleEn: 'Daily Morning Aarti - Live',
      titleHi: '‡§¶‡•à‡§®‡§ø‡§ï ‡§™‡•ç‡§∞‡§æ‡§§‡§É ‡§Ü‡§∞‡§§‡•Ä - ‡§≤‡§æ‡§á‡§µ',
      descriptionEn: 'Join us for the sacred morning prayers and rituals',
      descriptionHi: '‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§∏‡•Å‡§¨‡§π ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§∞‡•ç‡§•‡§®‡§æ ‡§î‡§∞ ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§π‡§Æ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á‡§Ç',
      streamUrl: 'https://youtube.com/live/example',
      scheduledTime: new Date(tomorrow.setHours(6, 0, 0, 0)),
      status: 'SCHEDULED',
      thumbnailUrl: '/images/morning-aarti-thumb.jpg',
    },
    {
      titleEn: 'Evening Aarti - Live Stream',
      titleHi: '‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ ‡§Ü‡§∞‡§§‡•Ä - ‡§≤‡§æ‡§á‡§µ ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Æ',
      descriptionEn: 'Experience the divine evening prayers from anywhere',
      descriptionHi: '‡§ï‡§π‡•Ä‡§Ç ‡§∏‡•á ‡§≠‡•Ä ‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ ‡§™‡•ç‡§∞‡§æ‡§∞‡•ç‡§•‡§®‡§æ ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§ï‡§∞‡•á‡§Ç',
      streamUrl: 'https://youtube.com/live/example2',
      scheduledTime: new Date(tomorrow.setHours(19, 0, 0, 0)),
      status: 'SCHEDULED',
      thumbnailUrl: '/images/evening-aarti-thumb.jpg',
    },
  ];

  for (const livestream of livestreams) {
    const created = await prisma.livestream.create({
      data: livestream,
    });
    console.log(`‚úÖ Livestream created: ${created.titleEn}`);
  }

  // Create Settings
  console.log('üìù Creating settings...');
  await prisma.setting.upsert({
    where: { key: 'temple_open_time' },
    update: {},
    create: {
      key: 'temple_open_time',
      value: '06:00',
    },
  });

  await prisma.setting.upsert({
    where: { key: 'temple_close_time' },
    update: {},
    create: {
      key: 'temple_close_time',
      value: '21:00',
    },
  });

  await prisma.setting.upsert({
    where: { key: 'enable_bookings' },
    update: {},
    create: {
      key: 'enable_bookings',
      value: 'true',
    },
  });

  console.log('‚úÖ Settings created');

  console.log('\n‚ú® Database seed completed successfully!');
  console.log('\nüìã Summary:');
  console.log('   - Admin user: admin@kuberjitemple.org (password: admin123)');
  console.log('   - Demo user: user@temple.com (password: demo123)');
  console.log(`   - ${services.length} services created`);
  console.log(`   - ${livestreams.length} livestreams scheduled`);
  console.log('   - Temple settings configured');
}

main()
  .catch((e) => {
    console.error('‚ùå Seed error:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
